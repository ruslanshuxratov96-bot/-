<!DOCTYPE html><html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Колесо Фортуны</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background: linear-gradient(135deg, #a8edea, #fed6e3);
      font-family: Arial, sans-serif;
    }h1 {
  margin-bottom: 20px;
  color: #333;
}

canvas {
  margin: 20px 0;
  background: #fff;
  border: 5px solid #444;
  border-radius: 50%;
}

button {
  padding: 10px 20px;
  font-size: 16px;
  cursor: pointer;
  border: none;
  background: #ff69b4;
  color: #fff;
  border-radius: 8px;
  transition: background 0.3s;
}

button:hover {
  background: #ff85c1;
}

  </style>
</head>
<body>
  <h1>Колесо Фортуны</h1>  <!-- Первое колесо --><canvas id="wheel1" width="300" height="300"></canvas> <button onclick="spinWheel(1)">Крутить колесо 1</button>

  <p id="result1"></p>  <!-- Второе колесо --><canvas id="wheel2" width="300" height="300" style="display:none;"></canvas> <button id="spin2" style="display:none;" onclick="spinWheel(2)">Крутить колесо 2</button>

  <p id="result2"></p>  <script>
    const wheel1Options = ["Руслан", "Камила"];
    const wheel2Options = ["Правда", "Действие"];

    let spinning = false;
    let selectedPlayer = "";

    function drawWheel(canvasId, options) {
      const canvas = document.getElementById(canvasId);
      const ctx = canvas.getContext("2d");
      const centerX = canvas.width / 2;
      const centerY = canvas.height / 2;
      const radius = canvas.width / 2 - 5;
      const angleStep = (2 * Math.PI) / options.length;

      options.forEach((option, index) => {
        const startAngle = index * angleStep;
        const endAngle = startAngle + angleStep;
        ctx.beginPath();
        ctx.moveTo(centerX, centerY);
        ctx.arc(centerX, centerY, radius, startAngle, endAngle);
        ctx.fillStyle = index % 2 === 0 ? "#ffcccb" : "#add8e6";
        ctx.fill();
        ctx.stroke();

        ctx.save();
        ctx.translate(centerX, centerY);
        ctx.rotate(startAngle + angleStep / 2);
        ctx.textAlign = "right";
        ctx.fillStyle = "#000";
        ctx.font = "16px Arial";
        ctx.fillText(option, radius - 10, 5);
        ctx.restore();
      });
    }

    drawWheel("wheel1", wheel1Options);

    function spinWheel(wheelNumber) {
      if (spinning) return;
      spinning = true;

      const options = wheelNumber === 1 ? wheel1Options : wheel2Options;
      const canvas = document.getElementById(`wheel${wheelNumber}`);
      const ctx = canvas.getContext("2d");
      let angle = 0;
      const spinAngle = Math.floor(Math.random() * 360) + 720;
      const duration = 2000;
      const start = performance.now();

      function animate(timestamp) {
        const elapsed = timestamp - start;
        const progress = Math.min(elapsed / duration, 1);
        angle = spinAngle * progress;

        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.save();
        ctx.translate(canvas.width / 2, canvas.height / 2);
        ctx.rotate((angle * Math.PI) / 180);
        ctx.translate(-canvas.width / 2, -canvas.height / 2);
        drawWheel(canvas.id, options);
        ctx.restore();

        if (progress < 1) {
          requestAnimationFrame(animate);
        } else {
          spinning = false;
          const selectedIndex = Math.floor(((360 - (angle % 360)) / (360 / options.length))) % options.length;
          const resultText = options[selectedIndex];

          if (wheelNumber === 1) {
            document.getElementById("result1").textContent = `Выбран: ${resultText}`;
            selectedPlayer = resultText;
            document.getElementById("wheel2").style.display = "block";
            document.getElementById("spin2").style.display = "inline-block";
            drawWheel("wheel2", wheel2Options);
          } else {
            document.getElementById("result2").textContent = `${selectedPlayer} выбрал: ${resultText}`;
          }
        }
      }

      requestAnimationFrame(animate);
    }
  </script></body>
</html>
