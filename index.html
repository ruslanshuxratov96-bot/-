<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ê–Ω—Ñ–∏—Å–∞ ‚Äî –¥–ª—è —Ç–µ–±—è</title>
  <style>
    :root{--bg:#fff7fb;--accent:#ff6b9f;--muted:#7a5a6a}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue';background:linear-gradient(180deg,#fff7fb 0%, #fff0f5 100%);color:#46263a}
    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:32px}
    .card{width:980px;max-width:96%;background:rgba(255,255,255,0.9);border-radius:18px;box-shadow:0 12px 40px rgba(110,20,60,0.12);overflow:hidden;display:grid;grid-template-columns:420px 1fr}

    /* left column */
    .left{padding:28px;background:linear-gradient(180deg,#fff 0%, #fff4f8 100%);display:flex;flex-direction:column;align-items:center;gap:18px}
    .photo{width:320px;height:420px;border-radius:12px;overflow:hidden;flex-shrink:0;box-shadow:0 6px 18px rgba(90,20,60,0.12);background:#eee;display:flex;align-items:center;justify-content:center}
    .photo img{width:100%;height:100%;object-fit:cover}
    .hearts{position:relative;width:100%;height:60px}

    /* right column */
    .right{padding:40px 36px;position:relative}
    h1{margin:0;font-size:28px;letter-spacing:0.2px}
    p.lead{margin:10px 0 20px;color:var(--muted)}
    .center-msg{background:linear-gradient(90deg, rgba(255,235,242,0.9), rgba(255,244,247,0.9));padding:18px;border-radius:12px;border:1px solid rgba(255,200,220,0.6);}
    .btn{display:inline-block;padding:10px 16px;border-radius:10px;background:var(--accent);color:white;text-decoration:none;font-weight:600;box-shadow:0 8px 18px rgba(255,107,159,0.18)}

    /* timeline */
    .timeline{margin-top:18px;display:flex;flex-direction:column;gap:12px}
    .event{display:flex;gap:12px;align-items:flex-start}
    .dot{width:12px;height:12px;border-radius:50%;background:var(--accent);margin-top:6px}
    .txt{background:#fff;padding:10px;border-radius:10px;border:1px solid rgba(200,160,180,0.25)}

    /* secret letter modal */
    .overlay{position:fixed;inset:0;background:rgba(12,8,10,0.45);display:none;align-items:center;justify-content:center;z-index:60}
    .modal{width:90%;max-width:720px;background:linear-gradient(180deg,#fff 0%, #fff9fb 100%);border-radius:14px;padding:26px;box-shadow:0 30px 80px rgba(40,10,30,0.5)}
    .letter{white-space:pre-wrap;font-family:Georgia, 'Times New Roman', serif;font-size:18px;color:#382533}

    /* floating hearts animation */
    .floating-heart{position:fixed;pointer-events:none;opacity:0.95}
    @keyframes floatup{0%{transform:translateY(0) scale(0.6);opacity:0}10%{opacity:1}100%{transform:translateY(-420px) scale(1.1);opacity:0}}

    /* confetti */
    .confetti-piece{position:fixed;width:10px;height:16px;opacity:0;z-index:90}

    /* responsive */
    @media (max-width:880px){.card{grid-template-columns:1fr;}.left{order:2}.right{order:1}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="main">
      <div class="left">
        <div class="photo" id="photoBox">
          <!-- –ó–∞–º–µ–Ω–∏—Ç–µ anfi.jpg –Ω–∞ —Å–≤–æ—ë —Ñ–æ—Ç–æ (–∏–º—è —Ñ–∞–π–ª–∞ –¥–æ–ª–∂–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å) -->
          <img src="anfi.jpg" alt="–ê–Ω—Ñ–∏—Å–∞" id="mainPhoto" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'600\' height=\'800\'><rect width=\'100%\' height=\'100%\' fill=\'%23f3eaf0\'/><text x=\'50%\' y=\'50%\' dominant-baseline=\'middle\' text-anchor=\'middle\' font-size=28 fill=\'%23807b81\'>–ü–æ–ª–æ–∂–∏ —Ñ–∞–π–ª anfi.jpg —Ä—è–¥–æ–º —Å —ç—Ç–∏–º html</text></svg>'" />
        </div>
        <div class="hearts" aria-hidden="true"></div>
        <div style="text-align:center">
          <button class="btn" id="openLetter">–û—Ç–∫—Ä—ã—Ç—å –ø–∏—Å—å–º–æ</button>
        </div>
      </div>
      <div class="right">
        <h1>–ê–Ω—Ñ–∏—Å–∞, —ç—Ç–æ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–±—è</h1>
        <p class="lead">–ú—ã –¥–∞–ª–µ–∫–æ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ —Å–µ–π—á–∞—Å, –Ω–æ –≤ –º–æ—ë–º —Å–µ—Ä–¥—Ü–µ —Ç—ã –≤—Å–µ–≥–¥–∞ —Ä—è–¥–æ–º. –Ø —Å–æ–±—Ä–∞–ª —Å–∞–º—ã–µ —Ç—ë–ø–ª—ã–µ –º–æ–º–µ–Ω—Ç—ã –∏ —Å–ª–æ–≤–∞, —á—Ç–æ–±—ã —Å–∫–∞–∑–∞—Ç—å<br><strong>‚Äî —è –ª—é–±–ª—é —Ç–µ–±—è –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –Ω–∞ —Å–≤–µ—Ç–µ.</strong></p>

        <div class="center-msg">
          <p style="margin:0">–ú–∞–ª–µ–Ω—å–∫–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏ –ª–µ—Ç—è—Ç, –º—É–∑—ã–∫–∞ —Ç–∏—Ö–æ –∏–≥—Ä–∞–µ—Ç ‚Äî —ç—Ç–æ –≤—Å—ë –¥–ª—è —Ç–≤–æ–µ–π —É–ª—ã–±–∫–∏. –ù–∞–∂–º–∏ <em>–û—Ç–∫—Ä—ã—Ç—å –ø–∏—Å—å–º–æ</em>, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å—é—Ä–ø—Ä–∏–∑.</p>
        </div>

        <div class="timeline">
          <div class="event"><div class="dot"></div><div class="txt">–ü–µ—Ä–≤—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä. –Ø –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª(–∞), —á—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é —á—Ç–æ-—Ç–æ –Ω–∞—Å—Ç–æ—è—â–µ–µ.</div></div>
          <div class="event"><div class="dot"></div><div class="txt">–ù–∞—à–∏ —à—É—Ç–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ —Å–∏—Ö –ø–æ—Ä –∑–∞—Å—Ç–∞–≤–ª—è—é—Ç –º–µ–Ω—è —É–ª—ã–±–∞—Ç—å—Å—è.</div></div>
          <div class="event"><div class="dot"></div><div class="txt">–ú–µ—á—Ç—ã –æ –±—É–¥—É—â–µ–º –≤–º–µ—Å—Ç–µ ‚Äî –∏ —è –≤–µ—Ä—é, —á—Ç–æ –æ–Ω–∏ –ø—Ä–æ–∏–∑–æ–π–¥—É—Ç.</div></div>
        </div>

        <div style="margin-top:20px">
          <a class="btn" id="playPause">–í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É</a>
        </div>
      </div>
    </div>
  </div>

  <!-- overlay letter -->
  <div class="overlay" id="overlay">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="letterTitle">
      <h2 id="letterTitle">–î–ª—è —Ç–µ–±—è, –ê–Ω—Ñ–∏—Å–∞</h2>
      <div class="letter" id="letter">
      </div>
      <div style="margin-top:18px;text-align:right">
        <button class="btn" id="closeLetter">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </div>
  </div>

  <!-- audio (–∑–∞–≥—Ä—É–∑–∏—Ç–µ song.mp3 —Ä—è–¥–æ–º —Å —Ñ–∞–π–ª–æ–º, –∏–ª–∏ –≤—Å—Ç—Ä–æ–π—Ç–µ —Å–≤–æ—ë) -->
  <audio id="bgAudio" loop>
    <source src="song.mp3" type="audio/mpeg">
  </audio>

  <script>
    // --------------------------------------
    // –¢–µ–∫—Å—Ç—ã –ø–∏—Å—å–º–∞ ‚Äî –º–æ–∂–Ω–æ –ø—Ä–∞–≤–∏—Ç—å
    // --------------------------------------
    const letterLines = [
      '–ú–æ—è –¥–æ—Ä–æ–≥–∞—è –ê–Ω—Ñ–∏—Å–∞,',
      '',
      '–ö–æ–≥–¥–∞ —è –¥—É–º–∞—é –æ –Ω–∞—Å, –≤–Ω—É—Ç—Ä–∏ –≤—Å—ë —Ç–µ–ø–ª–∏—Ç—Å—è –∏ —Å–≤–µ—Ç–∏—Ç—Å—è. –ú—ã —Å–µ–π—á–∞—Å –¥–∞–ª–µ–∫–æ, –Ω–æ –≤ –∫–∞–∂–¥–æ–º –º–æ—ë–º –¥–Ω–µ —Ç—ã ‚Äî –∫–∞–∫ –º–∞–ª–µ–Ω—å–∫–æ–µ —Å–æ–ª–Ω—Ü–µ.',
      '',
      '–Ø –ø–æ–º–Ω—é —Ç–≤–æ–π —Å–º–µ—Ö, —Ç–≤–æ–∏ –≥–ª–∞–∑–∞, –∫–æ–≥–¥–∞ —Ç—ã —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—à—å –ø—Ä–æ —Ç–æ, —á—Ç–æ –ª—é–±–∏—à—å. –Ø –ø–æ–º–Ω—é –ø–µ—Ä–≤—ã–µ –Ω–∞—à–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã –∏ –º–∏–Ω—É—Ç—ã, –∫–æ–≥–¥–∞ —è –ø–æ–Ω—è–ª(–∞), —á—Ç–æ —Ö–æ—á—É –±—ã—Ç—å —Ä—è–¥–æ–º –Ω–∞–≤—Å–µ–≥–¥–∞.',
      '',
      '–ü—É—Å—Ç—å —ç—Ç–æ –º–∞–ª–µ–Ω—å–∫–æ–µ –º–µ—Å—Ç–æ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ –Ω–∞–ø–æ–º–Ω–∏—Ç —Ç–µ–±–µ, –∫–∞–∫ —Ç—ã –¥–æ—Ä–æ–≥–∞ –º–Ω–µ. –Ø —Å–¥–µ–ª–∞–ª(–∞) —ç—Ç–æ—Ç —Å–∞–π—Ç, —á—Ç–æ–±—ã —Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—à—É –Ω–µ–∂–Ω–æ—Å—Ç—å –∏ –≤–µ—Ä—É –≤ –Ω–∞—à–µ –±—É–¥—É—â–µ–µ.',
      '',
      '–Ø –ª—é–±–ª—é —Ç–µ–±—è –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –Ω–∞ —Å–≤–µ—Ç–µ.',
      '',
      '–í—Å–µ–≥–¥–∞ —Ç–≤–æ–π(—è),',
      '[–¢–≤–æ—ë –∏–º—è ‚Äî –ø–æ–¥–ø–∏—à–∏ –∫–∞–∫ —Ö–æ—á–µ—à—å]'
    ];

    // typewriter effect to reveal letter
    function typeLetter(el, lines, idx=0, charIdx=0){
      if(idx >= lines.length) return;
      const line = lines[idx];
      if(charIdx <= line.length){
        el.textContent = lines.slice(0,idx).join('\n') + (idx? '\n':'') + line.slice(0,charIdx);
        setTimeout(()=>typeLetter(el,lines,idx,charIdx+1), 24 + Math.random()*20);
      } else {
        setTimeout(()=>typeLetter(el,lines,idx+1,0), 220);
      }
    }

    // overlay controls
    const overlay = document.getElementById('overlay');
    const openBtn = document.getElementById('openLetter');
    const closeBtn = document.getElementById('closeLetter');
    const letterEl = document.getElementById('letter');
    openBtn.addEventListener('click', ()=>{
      overlay.style.display = 'flex';
      letterEl.textContent = '';
      setTimeout(()=>typeLetter(letterEl, letterLines), 200);
      spawnHearts(18);
      triggerConfetti(28);
    });
    closeBtn.addEventListener('click', ()=>{ overlay.style.display='none' });

    // music play/pause
    const audio = document.getElementById('bgAudio');
    const playBtn = document.getElementById('playPause');
    let playing=false;
    playBtn.addEventListener('click', ()=>{
      if(!playing){
        audio.play().catch(()=>{});
        playBtn.textContent='–ü–∞—É–∑–∞';
        playing=true;
      } else {audio.pause();playBtn.textContent='–í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É';playing=false}
    });

    // floating hearts
    function spawnHearts(n=12){
      for(let i=0;i<n;i++){
        const h=document.createElement('div');
        h.className='floating-heart';
        const size=12+Math.random()*36;
        h.style.width=size+'px';h.style.height=size+'px';
        h.style.left=(20+Math.random()*60)+'%';
        h.style.bottom='10%';
        h.style.zIndex=80;
        h.style.opacity=0;
        h.innerHTML='‚ù§Ô∏è';
        document.body.appendChild(h);
        const delay = Math.random()*600;
        setTimeout(()=>{
          h.style.transition='transform 2.8s linear, opacity 2.8s linear';
          h.style.transform='translateY(-420px) scale(1)';
          h.style.opacity=1;
        },delay);
        setTimeout(()=>h.remove(),4000+delay);
      }
    }

    // confetti simple
    function triggerConfetti(count=20){
      for(let i=0;i<count;i++){
        const c=document.createElement('div');
        c.className='confetti-piece';
        c.style.left=(30+Math.random()*40)+'%';
        c.style.top=(30+Math.random()*40)+'%';
        c.style.width = (6 + Math.random()*10)+'px';
        c.style.height = (8 + Math.random()*18)+'px';
        c.style.background = ['#ff6b9f','#ffd166','#f8a1d1','#a6e3e9','#c7a6ff'][Math.floor(Math.random()*5)];
        c.style.transform = 'rotate('+ (Math.random()*360)+'deg)';
        c.style.opacity=1;
        document.body.appendChild(c);
        // animate
        const dx = (Math.random()*200 - 100);
        const dy = (150 + Math.random()*280);
        c.animate([
          {transform:'translate(0,0) rotate(0deg)', opacity:1},
          {transform:`translate(${dx}px, ${dy}px) rotate(${Math.random()*360}deg)`, opacity:0}
        ],{duration:1800+Math.random()*1200, easing:'cubic-bezier(.2,.7,.3,1)'});
        setTimeout(()=>c.remove(),2600);
      }
    }

    // gentle auto hearts near photo
    setInterval(()=>{
      const el=document.querySelector('.hearts');
      const b=document.createElement('span');
      b.textContent='üíó';
      b.style.position='absolute';
      b.style.left=(10+Math.random()*80)+'%';
      b.style.fontSize=(12+Math.random()*24)+'px';
      b.style.opacity='0';
      b.style.transform='translateY(10px)';
      b.style.transition='all 1.8s linear';
      el.appendChild(b);
      requestAnimationFrame(()=>{b.style.opacity='1';b.style.transform='translateY(-26px)';});
      setTimeout(()=>{b.style.opacity='0';b.style.transform='translateY(-46px)';},1400);
      setTimeout(()=>b.remove(),2000);
    },900);

    // small accessibility: press Esc to close
    document.addEventListener('keydown', e=>{if(e.key==='Escape') overlay.style.display='none'});

    // mobile: tap photo to open modal too
    document.getElementById('photoBox').addEventListener('click', ()=>{openBtn.click()});
